#!/bin/sh

__SU="doas" # or sudo

help()
{
    cat << EOF
srv [OPT] [SERVICE]
    -s       - Start service
    -S       - Stop service
    -r       - restart service
    -add     - Add new serivce
    -del     - Delete service
    -stat    - Show status
    -show    - Show all services

Examples:
     srv -s     SERVICE
     srv -S     SERVICE
     srv -r     SERVICE
     srv -add   SERVICE
     srv -del   SERVICE
     srv -stat  SERVICE
     srv -show
     
EOF
}

chk_arg2()
{
    if [ -z "$2" ]
    then
        printf "%s\n\n" "Invalid argument!"
        help
        
        exit 1
    fi
}


case "$1" in
"-s")
    chk_arg2 "$@"
    $__SU rc-service "$2" start
    ;;

"-S")
    chk_arg2 "$@"
    $__SU rc-service "$2" stop
    ;;

"-r")
    chk_arg2 "$@"
    $__SU rc-service "$2" restart
    ;;

"-add")
    chk_arg2 "$@"
    $__SU rc-update add "$2"
    ;;

"-del")
    chk_arg2 "$@"
    $__SU rc-update delete "$2"
    ;;

"-stat")
    chk_arg2 "$@"
    rc-service "$2" status
    ;;

"-show")
    rc-update show
    ;;

*)
    help

    exit 1
    ;;
esac

exit 0
